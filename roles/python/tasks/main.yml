- name: Ensure Python is installed
  homebrew: name=python state=present

- name: Ensure Pypenv is installed
  homebrew: name=pipenv state=present

- name: Ensure configured python packages are installed
  pip:
    executable: pip3
    name: ["{{ item }}"]
    state: present
  with_items: "{{ python_packages }}"

- name: Ensure http-prompt is installed
  pip:
    executable: pip3
    name: http-prompt
    state: present
  changed_when: false

- name: Ensure ipdb is installed
  pip:
    executable: pip3
    name: ipdb
    state: present
  changed_when: false

# - name: Ensure the Python language server is installed
#   pip:
#     executable: pip3
#     name: ["{{ item }}"]
#     state: present
#   with_items:
#     - jedi
#     - python-language-server

- name: Ensure python packages related to C++ are installed
  pip:
    executable: pip3
    name: ["{{ item }}"]
    state: present
  with_items: "{{ cpp_python_packages }}"

# - name: Ensure the AWS CLI is installed
#   become: yes
#   become_user: "{{ user }}"
#   command: python3.7 -m pip install awscli
#   args:
#     creates: /usr/local/bin/aws
